# 유연한 검색

Tags: Shotag concept
상태: In progress
작성 일자: 2022년 9월 15일 오후 5:46

1. 일단 검색어 하나하나와 유사한 태그를 찾는다
    
    
    유저에 관계 없는 엄청 큰 딕셔너리 형태
    
    이거 만드는 데 시간이 걸리지 않을까
    
    이 친구는 우선 개발 사항이 아님
    
    구: 정확한 목표 출시일?
    
    건: 1월 중순
    
2. 검색어와 일치하거나 유사한 태그를 가진 스크린샷만 고른다.
    1. 모델에서 비슷하다고 판단하는 단어
    2. 사람들이 단시간 내에 함께 검색하는 단어
3. 이렇게 나온 스크린샷들을 나열한다.
    
    
    1. 검색 결과와 100퍼센트 일치하는 스크린샷을 시간순으로 표출
    2. 그 이후 분명한 구분자와 함께 일치하는 태그 개수가 많은 순서대로 나열
    3. 일치하는 태그 개수가 같은 경우 앞에 검색한 검색어가 일치하는 경우가 우위
    4. 일치하는 태그가 모두 같은 경우 스크린샷을 시간순으로 표출
4. 오프라인 여부
    
    
    **오프라인 유사 검색 지원** - 지원 불가
    
    - 관련 회의
        
        
        건표: 오프라인 유저 행동을 로깅을 위해서는 DB 설계에 반영이 되어야 한다. 
        
        현식: 오프라인에서는 어떤 기능들이 들어가야 할지를 먼저 생각해야 오프라인 유저 행동을 로깅해야 할지, 한다면 어디까지 해야 할지를 파악할 수 있을 것 같다.
        
        현식: 유사한 검색을 들이기로 한 건 ‘검색의 정확도가 떨어질 수 있어서’
        유저가 태그에 자신을 맞추는 게 아니라 서비스가 유저에게 맞출 수 있게
        이러한 유저의 니즈는 오프든 온이든 가리지 않는다고 판단된다. 
        
        찬희 & 건표: 오프라인에서는 유사한 검색은 없어도 된다. 우리가 염두에 두고 있는 것이 스크린샷 검색 이후의 액션에 대한 확장성인데 어차피 오프라인에서는 그러한 확장성이 지원이 안 된다. 그리고 부하가 많이 생긴다. 그리고 어차피 유사한 검색은 메인 기능이 아니다. 그저 확장적인 기능일 뿐. 오프라인 유저가 필요할지 필요하지 않을지는 모른다. 데이터를 통해 판단해야 하는 영역
        
        현식: 부하가 많이 걸린다면 동의
        
        ### 결론
        
        [범석님 왈] 단어 사이의 유사도 계산하는 NLP 모듈은 크기가 커서 오프라인으로 넣기가 힘듦
        

- 유사도 검색을 위한 DB
    
    
    1. 각 유니크 태그들끼리 유사도가 어느정도 되는지에 대한 데이터를 보유하고 있어야 한다.
    2. 유저가 검색한 단어가 유니크 태그 집합에 속하지 않는 경우 실시간으로 유사도 계산을 해야 하며, 그렇지 않은 경우에는 굳이 계산하지 않아도 된다.
    3. 한 유저에 대해 모든 유니크 태그들의 점수들이 배정되어 있어야 한다.
    4. 한 스크린샷에 배정된 태그들의 경우 해당 스크린샷에 대한 각 태그들의 점수가 배정되어 있어야 한다.
    5. 검색에 수반되는 정보를 어느 정도까지 로컬에서 가지고 있을지는 따져봐야 한다. 만약 모든 검색 행동을 온라인 서버에 맡긴다면 로컬에 저장할 공간을 마련할 필요가 없다.