# 20221013 회의 wrap up / 할 얘기

Tags: meeting
상태: Done
작성 일자: 2022년 10월 13일 오후 6:03

## DB 설계에 영향을 주는 부분에 대한 논의

### 배경

범석님하고 얘기를 해 봤는데 뷰보다 DB 설계가 먼저다
뷰 잡는 것보다는 변경된 기능으로 인해 DB에 영향을 주는 것들에 대한 논의가 먼저 선행되어야

### 유사한 검색을 위한 DB

1. 각 유니크 태그들끼리 유사도가 어느정도 되는지에 대한 데이터를 보유하고 있어야 한다.
2. 유저가 검색한 단어가 유니크 태그 집합에 속하지 않는 경우 실시간으로 유사도 계산을 해야 하며, 그렇지 않은 경우에는 굳이 계산하지 않아도 된다.
3. 한 유저에 대해 모든 유니크 태그들의 점수들이 배정되어 있어야 한다.
4. 한 스크린샷에 배정된 태그들의 경우 해당 스크린샷에 대한 각 태그들의 점수가 배정되어 있어야 한다.
5. 검색에 수반되는 정보를 어느 정도까지 로컬에서 가지고 있을지는 따져봐야 한다. 만약 모든 검색 행동을 온라인 서버에 맡긴다면 로컬에 저장할 공간을 마련할 필요가 없다.

### 유사한 검색의 오프라인 지원 여부

건표: 오프라인 유저 행동을 로깅을 위해서는 DB 설계에 반영이 되어야 한다. 

현식: 오프라인에서는 어떤 기능들이 들어가야 할지를 먼저 생각해야 오프라인 유저 행동을 로깅해야 할지, 한다면 어디까지 해야 할지를 파악할 수 있을 것 같다.

현식: 유사한 검색을 들이기로 한 건 ‘검색의 정확도가 떨어질 수 있어서’
유저가 태그에 자신을 맞추는 게 아니라 서비스가 유저에게 맞출 수 있게
이러한 유저의 니즈는 오프든 온이든 가리지 않는다고 판단된다. 

찬희 & 건표: 오프라인에서는 유사한 검색은 없어도 된다. 우리가 염두에 두고 있는 것이 스크린샷 검색 이후의 액션에 대한 확장성인데 어차피 오프라인에서는 그러한 확장성이 지원이 안 된다. 그리고 부하가 많이 생긴다. 그리고 어차피 유사한 검색은 메인 기능이 아니다. 그저 확장적인 기능일 뿐. 오프라인 유저가 필요할지 필요하지 않을지는 모른다. 데이터를 통해 판단해야 하는 영역

현식: 부하가 많이 걸린다면 동의

### 결론

[범석님 왈] 단어 사이의 유사도 계산하는 NLP 모듈은 크기가 커서 오프라인으로 넣기가 힘듦

### 오프라인 유저 행동 트레킹

**결론은 우선 검색 기록이 남을 테니 그것은 수집**

지금 당장 오프라인에서 따로 수집할 건 없다

 어느 나라에서 많이 사용하는지는 우선 온라인 상태에서 수집

 많이 사용되는 국가가 어디인지에 따라서 오프라인과 온라인 비중을 측정할지를 결정하자

Online Only의 영역은 존재해도 된다. (물론 On ≥ Off 이어야겠지만)

그렇다면 트래킹 가능한 모든 유저 행동 중 어디까지를 오프라인에서 수집해야 할까?

이를 결정하기 위해서는 우선 오프라인은 주요 케이스인지 아니면 오프라인도 꽤 고려가 되어야 하는지를 먼저 결정해야 한다.

찬희: 검색을 사용할 때 일반적으로 브라우저를 많이 쓰니까 데이터가 켜져 있을 가능성이 놓다. 스크린샷을 유용하게 쓰려고 하는 거니까 그 다음 행동은 데이터를 요구할 가능성이 크다. 또한 다음 행동이 온라인에 연결되어 있을 가능성이 크기 때문에 온라인 환경을 중요하게 생각해야 한다.

현식:  스크린샷은 찍으면 로컬에 저장된다. 그렇기 때문에 찾고 싶으면 오프라인에서도 언제나 찾을 수 있다는 점이 온라인과 대비된다. 특히 통신사 데이터가 많이 없을 때 온라인에서 어떤 정보를 저장하고 오프에서 확인하는 경우도 있다. 그런 경우에는 오프의 유즈케이스에 해당한다. 

현식: 영미권 선진국의 대도시 인터넷 환경 고려하면 오프라인은 주 케이스가 아닌가 싶기도 하다. 하지만 영어로 된 앱이 이러한 영미권 선진국에서 많이 사용되리라는 보장이 없다. 따라서 출시를 해보고 데이터를 받아서 판단을 하자. 

이후의 논쟁, 데이터가 먼저냐 인사이트가 먼저냐

### 이외에 수집하는 데이터

이후 notice 기능 열면 notice 읽음 여부 (빨간 점 위해서 수집해야)

### ETC

- 모든 로그는 파이어베이스로 측정 가능하다 (아마 온라인 상태에서의 로그를 말한 듯)
- 태그를 검색하고 나서 첫번째로 여는 사진이 무엇인지에 대한 데이터가 중요할 수 있다.

---